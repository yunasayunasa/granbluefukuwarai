# Odyssey Engine 改修タスクリスト

**最終更新**: 2025-12-02  
**プロジェクト**: iPad向け2D Unityクローン Webアプリ

---

## ✅ 完了済みタスク（P0-P1）

### ✅ TASK-001~003: VSLエディタ復旧
**完了日**: 2025-11-26  
- VSLエディタの完全なCSSスタイル実装
- ノード、ピン、接続線の表示復旧
- x,yパラメータによるノード移動機能

### ✅ TASK-101: Undo/Redo機能
**完了日**: 2025-11-29  
- Move/Rotate/Scaleコマンドの実装
- コマンドパターンによるUndoスタック管理
- UIボタンとの連携

### ✅ TASK-102: Copy/Paste/Duplicate/Delete
**完了日**: 2025-11-29  
- クリップボードマネージャー実装
- マルチセレクト対応
- キーボードショートカット対応

### ✅ TASK-103: Multi-Select Mode
**完了日**: 2025-11-29  
- Ctrlキーによる複数選択
- 選択オブジェクトの一括操作

### ✅ TASK-104: Inspector Lock
**完了日**: 2025-11-30  
- インスペクタのロック/アンロック機能
- 選択変更時の動作制御

### ✅ TASK-105: Play/Edit Mode Toggle
**完了日**: 2025-11-30  
- エディットモードとプレイモードの切り替え
- モード別のギズモ表示制御

### ✅ TASK-202: アセット追加・永続化
**完了日**: 2025-12-02  
- ファイル選択ダイアログによるアセット追加
- 画像/音声ファイルのサポート
- シーン保存時のアセット情報JSON化
- シーン読み込み時のアセット復元

### ✅ TASK-106: 通常モード時のツールバー非表示
**完了日**: 2025-12-02  
- URLパラメータなし時にエディタUIを完全非表示
- `debug=true`パラメータ時のみエディタUI表示

---

## 🟡 P1 - 高優先タスク（次のターゲット）

### ✅ TASK-107: ゲームビルド出力機能
**完了日**: 2025-12-02
- エディタUIを含まないゲーム実行ファイルの出力
- シーンデータとアセットのZIP化
- JSZipによるクライアントサイド生成
2. シーンデータとアセットリストのJSON埋め込み
3. 必要最小限のJSファイルのバンドル
4. ZIP形式でのエクスポート機能
5. 「Export Game」ボタンの追加

**出力形式**:
```
exported_game/
  ├── index.html (エディタUIなし)
  ├── game.min.js (ゲームロジックのみ)
  ├── assets/ (ゲームアセット)
  └── scenes/ (シーン定義JSON)
```

---

### TASK-201: アニメーションタブの機能実装

**ステータス**: 🔴 未着手  
**担当**: AI  
**優先度**: P1  
**見積**: 2-3時間

**目的**:
- 現在プレースホルダーとなっているAnimationタブに基本機能を実装

**実装内容**:
1. タイムラインUIの実装
2. キーフレーム追加/削除機能
3. アニメーションプレビュー機能
4. アニメーションデータの保存/読み込み

---

### TASK-202: アセット永続化

**ステータス**: 🔴 未着手  
**担当**: AI  
**優先度**: P1  
**見積**: 1-2時間

**目的**:
- 追加したアセットをプロジェクトに保存/読み込みできるようにする

**実装内容**:
1. アセットリストのJSON形式での保存
2. プロジェクトファイル読み込み時のアセット復元
3. IndexedDBまたはlocalStorageを使用した永続化

---

## 🟢 P2 - 中優先タスク

### TASK-203: アセットドラッグ&ドロップ機能

**ステータス**: 🔴 未着手  
**担当**: AI  
**優先度**: P2  
**見積**: 2-3時間

**機能**:
- プロジェクトパネルにファイルをドラッグ&ドロップしてアセットをインポート
- シーンビューへのアセットドラッグによるオブジェクト配置

**実装内容**:
1. ドロップゾーンの作成
2. `dragover`, `drop`イベントハンドラ実装
3. ファイル検証（画像/音声フォーマット）
4. シーンへの自動配置機能

---

### TASK-204: UIツールチップの改善

**ステータス**: 🔴 未着手  
**担当**: AI  
**優先度**: P2  
**見積**: 1時間

**目的**:
- 各UI要素の機能をより詳しく説明するツールチップを追加

**対象**:
- ツールバーの各ボタン
- ヒエラルキーパネルの機能
- インスペクタの各プロパティ
- アセットブラウザの操作方法

---

### TASK-205: Prefabシステムの拡張

**ステータス**: 🔴 未着手  
**担当**: AI  
**優先度**: P2  
**見積**: 3-4時間

**目的**:
- 現在の基本的なPrefab書き出しを拡張し、本格的なPrefabシステムを実装

**実装内容**:
1. Prefabインスタンスの親Prefabへの参照管理
2. Prefab編集モード
3. Prefab更新時の全インスタンス反映
4. ネストされたPrefab対応

---

## ⚪ P3 - 低優先タスク

### TASK-301: エディタヘルプコンテンツの充実

**ステータス**: 🔴 未着手  
**担当**: AI  
**優先度**: P3  
**見積**: 2-3時間

**内容**:
- `manual.html`の内容をより詳細に
- スクリーンショット付きチュートリアル
- よくある質問（FAQ）
- ショートカットキー一覧

---

### TASK-302: タイルマップエディタの改善

**ステータス**: 🔴 未着手  
**担当**: AI  
**優先度**: P3  
**見積**: 3-4時間

**目的**:
- 現在の基本機能のみのタイルマップエディタを改善

**実装内容**:
1. レイヤー機能
2. タイル選択ツール（矩形選択、塗りつぶし）
3. タイルパレットの管理機能
4. タイルマップのエクスポート/インポート

---

### TASK-303: GizmoManagerの整理（調査）

**ステータス**: 🔴 未着手  
**担当**: AI  
**優先度**: P3  
**見積**: 30分

**目的**:
- `src/editor/GizmoManager.js`と`src/plugins/GizmoManager.js`の重複を調査
- 2つの違いを明確化
- 必要に応じて統合

---

## 🔮 将来的なタスク（アイデア）

以下は、さらに先の機能として検討できるタスク：

- **パーティクルシステムエディタ**: ビジュアルエディタでパーティクル設定
- **プロファイラ/デバッガ**: パフォーマンス測定ツール
- **カメラコントロール強化**: ズーム、パン、フォーカス機能
- **グリッドスナップ設定UI**: グリッドサイズ調整パネル
- **オブジェクトグルーピングUI**: 階層構造の視覚的管理
- **カスタムコンポーネントエディタ**: UIからコンポーネント作成

---

## 📊 進捗サマリー

| 優先度 | 総タスク数 | 完了 | 進行中 | 未着手 |
|--------|-----------|------|--------|--------|
| P0     | 7         | 7    | 0      | 0      |
| P1     | 2         | 0    | 0      | 2      |
| P2     | 3         | 0    | 0      | 3      |
| P3     | 3         | 0    | 0      | 3      |
| **合計** | **15**  | **7** | **0** | **8** |

---

## 🎯 推奨される次のアクション

現在の開発状況を考慮すると、以下の順序で進めることを推奨します：

1. **TASK-201: アニメーションタブの機能実装** (P1)
   - エディタUIの完成度を高める基本機能

2. **TASK-202: アセット永続化** (P1)
   - プロジェクト保存時にアセット情報も保持できるようにする

3. **TASK-203: アセットドラッグ&ドロップ** (P2)
   - ユーザビリティの大幅向上

4. **TASK-204: UIツールチップ** (P2)
   - 新規ユーザーへの配慮

その他のタスクは、上記4つの完了後またはユーザーの要望に応じて着手します。
